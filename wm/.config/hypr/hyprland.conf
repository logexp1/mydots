# autostart programs
$pypr = /home/jisoo/.virtualenvs/system/bin/pypr

exec-once = kime
exec-once = emacsclient -e 0 &> /tmp/emacs_daemon.log
exec-once = udiskie
exec-once = $pypr
exec-once = hyprland-autoname-workspaces --migrate-config
exec-once = waybar
exec-once = wl-paste --watch cliphist store
exec-once = /usr/libexec/kf5/polkit-kde-authentication-agent-1
exec-once = swayidle -w timeout 300 'swaylock -f'
exec-once = swww query || swww init
exec-once = swaync

monitor=,preferred,auto,auto

input {
	kb_layout = us, kr
	kb_options = ctrl:swap_lalt_lctl,caps:super,numpad:mac
	kb_layout = my_mod
}

general {
    border_size = 2
    col.active_border = rgb(333333)
    col.inactive_border = rgb(222222)

    gaps_in = 5
    gaps_out = 5

    layout = dwindle
    cursor_inactive_timeout = 10
	no_focus_fallback = true
}


dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # you probably want this
}

decoration {
    rounding = 10
    dim_inactive = true
    dim_strength = 0.2
}

animations {
    enabled = yes
    animation = workspaces, 1, 3, default
    animation = windows,    1, 3, default, slide
    animation = border,     1, 3, default
    animation = fade,       1, 3, default
}


misc {
    new_window_takes_over_fullscreen = 1
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = false
}

$win = MOD3
$super = MOD4
$shift = SHIFT
$ctrl = CTRL
$alt = ALT

# scratchpads
bind = $super,	t,	exec, $pypr toggle term
$dropterm = ^(dropdown)$
windowrule = float,$dropterm
windowrule = workspace special:scratch_term silent,$dropterm
windowrule = size 75% 60%, $dropterm
windowrule = move 12% -200%, $dropterm

# launcher
bind = $super, i, exec, firefox
bind = $super, e, exec, emacsclient -c -a ""
bind = $super, return, exec, rofi -show drun -theme ~/.config/rofi/styles/launcher.rasi

# custom script
bind = $super, x, exec, ~/bin/kill_process
bind = $super, p, exec, ~/bin/passmenu
bind = $super, o, exec, rofi -show window
bind = $super, v, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind = $super, z, exec, ~/bin/power
bind = $super, s, exec, ~/bin/screenshot
bind = $super, r, exec, ~/bin/reload_module

# kill window
bind = $super, q, killactive

# change focus
bind = $super, h, movefocus, l
bind = $super, j, movefocus, d
bind = $super, k, movefocus, u
bind = $super, l, movefocus, r

# move window
bind = $super + $ctrl, h, movewindow, l
bind = $super + $ctrl, j, movewindow, d
bind = $super + $ctrl, k, movewindow, u
bind = $super + $ctrl, l, movewindow, r

# fullscreen/monocle
bind = $super, f, fullscreen, 0
bind = $super, m, fullscreen, 1

# last window
bind = $ctrl, Tab, exec, hyprctl dispatcher focusurgentorlast ""

# Switch to workspace using number row
bind = $super, 1, workspace, 1
bind = $super, 2, workspace, 2
bind = $super, 3, workspace, 3
bind = $super, 4, workspace, 4
bind = $super, 5, workspace, 5
bind = $super, 6, workspace, 6
bind = $super, 7, workspace, 7
bind = $super, 8, workspace, 8
bind = $super, 9, workspace, 9
bind = $super, 0, workspace, 10

# Move window to workspace using number row
bind = $super + $ctrl, 1, movetoworkspace, 1
bind = $super + $ctrl, 2, movetoworkspace, 2
bind = $super + $ctrl, 3, movetoworkspace, 3
bind = $super + $ctrl, 4, movetoworkspace, 4
bind = $super + $ctrl, 5, movetoworkspace, 5
bind = $super + $ctrl, 6, movetoworkspace, 6
bind = $super + $ctrl, 7, movetoworkspace, 7
bind = $super + $ctrl, 8, movetoworkspace, 8
bind = $super + $ctrl, 9, movetoworkspace, 9
bind = $super + $ctrl, 0, movetoworkspace, 10

# media control
bindl = $shift + $ctrl + $win, m, exec, ~/bin/volume --toggle-mic
bindl = $ctrl + $win, m, exec, ~/bin/volume --toggle
bindl = , XF86AudioMute, exec, ~/bin/volume --toggle
bindl = $shift + $ctrl + $win, h, exec, ~/bin/volume --mic-dec
bindl = $ctrl + $win, h, exec, ~/bin/volume --dec
bindl = , XF86AudioLowerVolume, exec, ~/bin/volume --dec
bindl = $shift + $ctrl + $win, l, exec, ~/bin/volume --mic-inc
bindl = $ctrl + $win, l, exec, ~/bin/volume --inc
bindl = , XF86AudioRaiseVolume, exec, ~/bin/volume --inc

# brightness control
binde = $ctrl + $win, k, exec, ~/bin/lightctl --inc
binde = $ctrl + $win, j, exec, ~/bin/lightctl --dec

# disable laptop monitor when lid is closed (switch name from 'hyprctl devices')
bindl = , switch:Lid Switch, exec, swaylock
bindl = , switch:on:Lid Switch, exec, hyprctl keyword monitor "eDP-1, preferred, auto, auto"
bindl = , switch:off:Lid Switch, exec, hyprctl keyword monitor "eDP-1, disable"
